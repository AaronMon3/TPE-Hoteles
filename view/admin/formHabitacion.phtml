<h1><?= $habitacion ? "Editar" : "Agregar" ?> Habitación</h1>
<p>
    <a href="/hoteles/" style="text-decoration:none;">← Inicio</a> | 
    <a href="/hoteles/admin/dashboard">Dashboard</a> | 
    <a href="/hoteles/admin/habitaciones">Lista de Habitaciones</a>
</p>
<form method="POST" action="<?= $habitacion ? '/hoteles/admin/habitaciones/editar/'.$habitacion['id_habitacion'] : '/hoteles/admin/habitaciones/nueva' ?>" enctype="multipart/form-data">
    <label>Número:</label><br>
    <input type="text" name="numero" value="<?= $habitacion['numero'] ?? '' ?>" required><br>
    <label>Precio:</label><br>
    <input type="number" step="0.01" name="precio" value="<?= $habitacion['precio'] ?? '' ?>" required><br>
    <label>Tipo:</label><br>
    <select name="id_tipo" required>
        <?php foreach($tipos as $t): ?>
            <option value="<?= $t['id_tipo'] ?>" <?= ($habitacion && $habitacion['id_tipo']==$t['id_tipo'])?'selected':'' ?>>
                <?= $t['nombre'] ?>
            </option>
        <?php endforeach; ?>
    </select><br>
    <label>Imagen (archivo):</label><br>
    <?php if(!empty($habitacion['imagen_url'])): ?>
        <img src="<?= htmlspecialchars($habitacion['imagen_url']) ?>" alt="Imagen" style="max-width:200px;display:block;margin-bottom:8px;">
    <?php endif; ?>
    <input type="file" name="imagen_file" accept="image/*"><br>
    <small>Si subes un archivo, reemplazará la imagen existente.</small><br><br>

    <label>O Imagen (URL pública):</label><br>
    <input type="text" name="imagen_url_text" value="<?= htmlspecialchars($habitacion['imagen_url'] ?? '') ?>" placeholder="https://..." style="width:100%;"><br>
    <small>Si pegas una URL y no subes archivo, la URL será usada.</small><br><br>
    <button type="submit"><?= $habitacion ? "Actualizar" : "Agregar" ?></button>
</form>
