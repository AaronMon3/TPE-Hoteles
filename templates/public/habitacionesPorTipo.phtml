<?php
$title = 'Habitaciones por Tipo';
require __DIR__ . '/../header.phtml';
?>

    <h1>Habitaciones — <?= htmlspecialchars($tipo['nombre'] ?? '') ?></h1>
    <p><a href="<?= url('tipos') ?>">Volver a Tipos</a></p>

    <?php if (!empty($habitaciones)): ?>
        <div class="habitaciones-grid">
            <?php foreach ($habitaciones as $h): ?>
                <?php $img = $h['imagen_url'] ?? ''; ?>
                <article class="habitacion-card">
                    <?php if ($img): ?>
                        <div class="card-thumb"><img src="<?= htmlspecialchars($img) ?>" alt="<?= htmlspecialchars($h['tipo_nombre'] ?? '') ?>" style="max-width:200px"></div>
                    <?php else: ?>
                        <div class="card-thumb placeholder" aria-hidden="true">No image</div>
                    <?php endif; ?>
                    <div class="card-body">
                        <h3><a href="<?= url('habitaciones/' . (int)$h['id_habitacion']) ?>"><?= htmlspecialchars($h['numero']) ?> — $<?= htmlspecialchars($h['precio']) ?></a></h3>
                        <p class="tipo">Tipo: <?= htmlspecialchars($h['tipo_nombre'] ?? 'Desconocido') ?></p>
                        <p class="hotel">Hotel: <?= htmlspecialchars($h['hotel_nombre'] ?? 'Desconocido') ?></p>
                    </div>
                </article>
            <?php endforeach; ?>
        </div>
    <?php else: ?>
        <p>No hay habitaciones para este tipo.</p>
    <?php endif; ?>
